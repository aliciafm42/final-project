{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/ (unsupported edge import 'crypto')"],"sourcesContent":["__turbopack_context__.n(__import_unsupported(`crypto`));\n"],"names":[],"mappings":"AAAA,sBAAsB,CAAC,CAAC,qBAAqB,CAAC,MAAM,CAAC"}},
    {"offset": {"line": 20, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/lib/prisma.jsx"],"sourcesContent":["import { PrismaClient } from \"@prisma/client\";\n\nconst globalForPrisma = globalThis;\n\nconst prisma = globalForPrisma.prisma || new PrismaClient();\n\nif (process.env.NODE_ENV !== \"production\") globalForPrisma.prisma = prisma;\n\nexport default prisma;\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,kBAAkB;AAExB,MAAM,SAAS,gBAAgB,MAAM,IAAI,IAAI,8KAAY;AAEzD,wCAA2C,gBAAgB,MAAM,GAAG;uCAErD"}},
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/auth.jsx"],"sourcesContent":["import NextAuth from \"next-auth\";\nimport bcrypt from \"bcryptjs\";\nimport Credentials from \"next-auth/providers/credentials\";\nimport GitHub from \"next-auth/providers/github\";\nimport Google from \"next-auth/providers/google\";\nimport prisma from \"@/lib/prisma\";\n\nexport const { auth, handlers } = NextAuth({\n  providers: [\n    // ---------- Credentials Provider ----------\n    Credentials({\n      name: \"Credentials\",\n      credentials: {\n        email: { label: \"Email\", type: \"email\" },\n        password: { label: \"Password\", type: \"password\" },\n      },\n      async authorize(credentials) {\n        if (!credentials?.email || !credentials?.password) return null;\n\n        const user = await prisma.user.findUnique({\n          where: { email: credentials.email },\n        });\n        if (!user) return null;\n\n        const isValid = await bcrypt.compare(credentials.password, user.password);\n        if (!isValid) return null;\n\n        return user;\n      },\n    }),\n\n    // ---------- GitHub OAuth Provider ----------\n    GitHub,\n\n    // ---------- Google OAuth Provider ----------\n    Google,\n  ],\n\n  pages: {\n    signIn: \"/auth/signin\",\n  },\n\n  callbacks: {\n    authorized({ auth, request: { nextUrl } }) {\n      const isLoggedIn = auth?.user;\n      const path = nextUrl.pathname;\n\n      const isProtected =\n        path.startsWith(\"/add-profile\") ||\n        (path.startsWith(\"/profile/\") && path.endsWith(\"/edit\"));\n\n      return !isProtected || isLoggedIn;\n    },\n\n    async session({ session, token }) {\n      if (token) {\n        session.user.id = token.id;\n        session.user.email = token.email;\n      }\n      return session;\n    },\n\n    async jwt({ token, user, account, profile }) {\n      // Local login\n      if (user) {\n        token.id = user.id;\n        token.email = user.email;\n      }\n\n      // GitHub OAuth\n      if (account?.provider === \"github\" && profile?.email) {\n        token.email = profile.email;\n      }\n\n      // Google OAuth\n      if (account?.provider === \"google\" && profile?.email) {\n        token.email = profile.email;\n      }\n\n      return token;\n    },\n  },\n});\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;;;;;;;AAEO,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,IAAA,wKAAQ,EAAC;IACzC,WAAW;QACT,6CAA6C;QAC7C,IAAA,6KAAW,EAAC;YACV,MAAM;YACN,aAAa;gBACX,OAAO;oBAAE,OAAO;oBAAS,MAAM;gBAAQ;gBACvC,UAAU;oBAAE,OAAO;oBAAY,MAAM;gBAAW;YAClD;YACA,MAAM,WAAU,WAAW;gBACzB,IAAI,CAAC,aAAa,SAAS,CAAC,aAAa,UAAU,OAAO;gBAE1D,MAAM,OAAO,MAAM,iIAAM,CAAC,IAAI,CAAC,UAAU,CAAC;oBACxC,OAAO;wBAAE,OAAO,YAAY,KAAK;oBAAC;gBACpC;gBACA,IAAI,CAAC,MAAM,OAAO;gBAElB,MAAM,UAAU,MAAM,oJAAM,CAAC,OAAO,CAAC,YAAY,QAAQ,EAAE,KAAK,QAAQ;gBACxE,IAAI,CAAC,SAAS,OAAO;gBAErB,OAAO;YACT;QACF;QAEA,8CAA8C;QAC9C,wKAAM;QAEN,8CAA8C;QAC9C,wKAAM;KACP;IAED,OAAO;QACL,QAAQ;IACV;IAEA,WAAW;QACT,YAAW,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,EAAE;YACvC,MAAM,aAAa,MAAM;YACzB,MAAM,OAAO,QAAQ,QAAQ;YAE7B,MAAM,cACJ,KAAK,UAAU,CAAC,mBACf,KAAK,UAAU,CAAC,gBAAgB,KAAK,QAAQ,CAAC;YAEjD,OAAO,CAAC,eAAe;QACzB;QAEA,MAAM,SAAQ,EAAE,OAAO,EAAE,KAAK,EAAE;YAC9B,IAAI,OAAO;gBACT,QAAQ,IAAI,CAAC,EAAE,GAAG,MAAM,EAAE;gBAC1B,QAAQ,IAAI,CAAC,KAAK,GAAG,MAAM,KAAK;YAClC;YACA,OAAO;QACT;QAEA,MAAM,KAAI,EAAE,KAAK,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE;YACzC,cAAc;YACd,IAAI,MAAM;gBACR,MAAM,EAAE,GAAG,KAAK,EAAE;gBAClB,MAAM,KAAK,GAAG,KAAK,KAAK;YAC1B;YAEA,eAAe;YACf,IAAI,SAAS,aAAa,YAAY,SAAS,OAAO;gBACpD,MAAM,KAAK,GAAG,QAAQ,KAAK;YAC7B;YAEA,eAAe;YACf,IAAI,SAAS,aAAa,YAAY,SAAS,OAAO;gBACpD,MAAM,KAAK,GAAG,QAAQ,KAAK;YAC7B;YAEA,OAAO;QACT;IACF;AACF"}},
    {"offset": {"line": 127, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/middleware.jsx"],"sourcesContent":["export { auth as middleware } from \"@/auth\"\n\nexport const config = {\n  matcher: [\"/add-profile\", \"/profile/:path*/edit\"],\n};\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,SAAS;IACpB,SAAS;QAAC;QAAgB;KAAuB;AACnD"}}]
}