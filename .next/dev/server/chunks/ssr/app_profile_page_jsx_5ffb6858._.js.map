{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/aliciamartinez/Downloads/Final/app/profile/page.jsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { useAuth } from \"@/context/AuthContext\";\n\nexport default function ProfilePage() {\n  const { user, login } = useAuth();\n  const [isRegistering, setIsRegistering] = useState(false);\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [experienceLevel, setExperienceLevel] = useState(\"BEGINNER\");\n  const [message, setMessage] = useState(\"\");\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setMessage(\"\");\n\n    try {\n      const url = isRegistering ? \"/api/auth/register\" : \"/api/auth/login\";\n\n      const bodyData = isRegistering\n        ? { email, password, experienceLevel }\n        : { email, password };\n\n      const res = await fetch(url, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(bodyData),\n      });\n\n      const data = await res.json();\n\n      if (!res.ok) {\n        // Show specific message if email is already in use\n        if (data.error && data.error.includes(\"already in use\")) {\n          setMessage(\"This email is already registered. Please use a different email.\");\n        } else {\n          setMessage(data.error || \"Something went wrong.\");\n        }\n        return;\n      }\n\n      login(data.user);\n      setMessage(isRegistering ? \"Registration successful!\" : \"Login successful!\");\n    } catch (err) {\n      console.error(err);\n      setMessage(\"An unexpected error occurred. Please try again.\");\n    }\n  };\n\n  if (user) {\n    return (\n      <div className=\"profile-page p-4\">\n        <h2 className=\"text-xl font-bold\">Welcome, {user.email}</h2>\n        <p>Experience Level: {user.experienceLevel || \"BEGINNER\"}</p>\n        <p className=\"text-green-700 font-medium mt-2\">Login successful!</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"login-register-page p-4 max-w-xs\">\n      <h2 className=\"text-xl font-bold mb-4\">{isRegistering ? \"Register\" : \"Login\"}</h2>\n      <form onSubmit={handleSubmit} className=\"flex flex-col gap-2\">\n        <input\n          type=\"email\"\n          placeholder=\"Email\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n          required\n          className=\"p-2 border rounded\"\n        />\n        <input\n          type=\"password\"\n          placeholder=\"Password\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          required\n          className=\"p-2 border rounded\"\n        />\n        {isRegistering && (\n          <select\n            value={experienceLevel}\n            onChange={(e) => setExperienceLevel(e.target.value)}\n            className=\"p-2 border rounded\"\n          >\n            <option value=\"BEGINNER\">Beginner</option>\n            <option value=\"INTERMEDIATE\">Intermediate</option>\n            <option value=\"EXPERIENCED\">Experienced</option>\n          </select>\n        )}\n        <button\n          type=\"submit\"\n          className=\"p-2 bg-green-700 text-white rounded mt-2\"\n        >\n          {isRegistering ? \"Register\" : \"Login\"}\n        </button>\n      </form>\n      <p className=\"mt-2 text-sm text-blue-700 cursor-pointer\" onClick={() => setIsRegistering(!isRegistering)}>\n        {isRegistering ? \"Already have an account? Login\" : \"Don't have an account? Register\"}\n      </p>\n      {message && <p className=\"mt-2 text-red-700\">{message}</p>}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKe,SAAS;IACtB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,IAAA,kIAAO;IAC/B,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAC;IACnD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,iNAAQ,EAAC;IACvD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,WAAW;QAEX,IAAI;YACF,MAAM,MAAM,gBAAgB,uBAAuB;YAEnD,MAAM,WAAW,gBACb;gBAAE;gBAAO;gBAAU;YAAgB,IACnC;gBAAE;gBAAO;YAAS;YAEtB,MAAM,MAAM,MAAM,MAAM,KAAK;gBAC3B,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;YACvB;YAEA,MAAM,OAAO,MAAM,IAAI,IAAI;YAE3B,IAAI,CAAC,IAAI,EAAE,EAAE;gBACX,mDAAmD;gBACnD,IAAI,KAAK,KAAK,IAAI,KAAK,KAAK,CAAC,QAAQ,CAAC,mBAAmB;oBACvD,WAAW;gBACb,OAAO;oBACL,WAAW,KAAK,KAAK,IAAI;gBAC3B;gBACA;YACF;YAEA,MAAM,KAAK,IAAI;YACf,WAAW,gBAAgB,6BAA6B;QAC1D,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC;YACd,WAAW;QACb;IACF;IAEA,IAAI,MAAM;QACR,qBACE,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAG,WAAU;;wBAAoB;wBAAU,KAAK,KAAK;;;;;;;8BACtD,8OAAC;;wBAAE;wBAAmB,KAAK,eAAe,IAAI;;;;;;;8BAC9C,8OAAC;oBAAE,WAAU;8BAAkC;;;;;;;;;;;;IAGrD;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAA0B,gBAAgB,aAAa;;;;;;0BACrE,8OAAC;gBAAK,UAAU;gBAAc,WAAU;;kCACtC,8OAAC;wBACC,MAAK;wBACL,aAAY;wBACZ,OAAO;wBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;wBACxC,QAAQ;wBACR,WAAU;;;;;;kCAEZ,8OAAC;wBACC,MAAK;wBACL,aAAY;wBACZ,OAAO;wBACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;wBAC3C,QAAQ;wBACR,WAAU;;;;;;oBAEX,+BACC,8OAAC;wBACC,OAAO;wBACP,UAAU,CAAC,IAAM,mBAAmB,EAAE,MAAM,CAAC,KAAK;wBAClD,WAAU;;0CAEV,8OAAC;gCAAO,OAAM;0CAAW;;;;;;0CACzB,8OAAC;gCAAO,OAAM;0CAAe;;;;;;0CAC7B,8OAAC;gCAAO,OAAM;0CAAc;;;;;;;;;;;;kCAGhC,8OAAC;wBACC,MAAK;wBACL,WAAU;kCAET,gBAAgB,aAAa;;;;;;;;;;;;0BAGlC,8OAAC;gBAAE,WAAU;gBAA4C,SAAS,IAAM,iBAAiB,CAAC;0BACvF,gBAAgB,mCAAmC;;;;;;YAErD,yBAAW,8OAAC;gBAAE,WAAU;0BAAqB;;;;;;;;;;;;AAGpD"}}]
}