{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/aliciamartinez/Downloads/Final/app/profile/page.jsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { useAuth } from \"@/context/AuthContext\";\n\nexport default function ProfilePage() {\n  const { user, login } = useAuth();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [experienceLevel, setExperienceLevel] = useState(\"BEGINNER\");\n  const [message, setMessage] = useState(\"\");\n  const [emailError, setEmailError] = useState(\"\");\n\n  // Separate functions: one for LOGIN, one for REGISTER\n  const handleLogin = async (e) => {\n    e.preventDefault();\n    setMessage(\"Logging in...\");\n    setEmailError(\"\");\n\n    try {\n      const res = await fetch(\"/api/auth/login\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ email, password }),\n      });\n\n      const data = await res.json();\n      if (!res.ok) {\n        setMessage(data.error || \"Login failed\");\n        return;\n      }\n\n      login(data.user);\n      setMessage(\"Login successful!\");\n    } catch (err) {\n      setMessage(\"Login failed: \" + err.message);\n    }\n  };\n\n  const handleRegister = async (e) => {\n    e.preventDefault();\n    setMessage(\"Registering...\");\n    setEmailError(\"\");\n\n    try {\n      const res = await fetch(\"/api/auth/register\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ email, password, experienceLevel }),\n      });\n\n      const data = await res.json();\n\n      if (!res.ok) {\n        if (data.error.includes(\"Email\")) {\n          setEmailError(data.error);\n        } else {\n          setMessage(data.error || \"Registration failed\");\n        }\n        return;\n      }\n\n      login(data.user);\n      setMessage(\"Registration successful!\");\n    } catch (err) {\n      setMessage(\"Registration failed: \" + err.message);\n    }\n  };\n\n  // Logged-in view\n  if (user) {\n    return (\n      <div className=\"profile-page p-4\">\n        <h2 className=\"text-xl font-bold\">Welcome, {user.email}</h2>\n        <p>Experience Level: {user.experienceLevel || \"BEGINNER\"}</p>\n        <p className=\"text-green-700 font-medium mt-2\">Login successful!</p>\n      </div>\n    );\n  }\n\n  // Login/Register UI stays EXACTLY the same style you had\n  return (\n    <div className=\"login-register-page p-4 max-w-xs\">\n      <h2 className=\"text-xl font-bold mb-4\">Welcome! Please Login or Register</h2>\n\n      <form className=\"flex flex-col gap-2\">\n        <input\n          type=\"email\"\n          placeholder=\"Email\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n          required\n          className=\"p-2 border rounded\"\n        />\n        {emailError && (\n          <p className=\"text-red-600 text-sm\">{emailError}</p>\n        )}\n\n        <input\n          type=\"password\"\n          placeholder=\"Password\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          required\n          className=\"p-2 border rounded\"\n        />\n\n        {/* Experience Level always shows when registering */}\n        <select\n          value={experienceLevel}\n          onChange={(e) => setExperienceLevel(e.target.value)}\n          className=\"p-2 border rounded\"\n        >\n          <option value=\"BEGINNER\">Beginner</option>\n          <option value=\"INTERMEDIATE\">Intermediate</option>\n          <option value=\"EXPERIENCED\">Experienced</option>\n        </select>\n\n        {/* Buttons side-by-side like original */}\n        <div className=\"flex gap-2 mt-2\">\n          <button\n            className=\"flex-1 p-2 bg-green-700 text-white rounded\"\n            onClick={handleLogin}\n          >\n            Login\n          </button>\n\n          <span className=\"self-center text-gray-600\">|</span>\n\n          <button\n            className=\"flex-1 p-2 bg-green-600 text-white rounded\"\n            onClick={handleRegister}\n          >\n            Register\n          </button>\n        </div>\n      </form>\n\n      {message && <p className=\"mt-2 text-sm text-blue-700\">{message}</p>}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}