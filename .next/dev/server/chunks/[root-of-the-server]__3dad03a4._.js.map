{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/aliciamartinez/Downloads/Final/lib/prisma.jsx"],"sourcesContent":["import { PrismaClient } from \"@prisma/client\";\n\nconst globalForPrisma = globalThis;\n\nconst prisma = globalForPrisma.prisma || new PrismaClient();\n\nif (process.env.NODE_ENV !== \"production\") globalForPrisma.prisma = prisma;\n\nexport default prisma;\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,kBAAkB;AAExB,MAAM,SAAS,gBAAgB,MAAM,IAAI,IAAI,6IAAY;AAEzD,wCAA2C,gBAAgB,MAAM,GAAG;uCAErD"}},
    {"offset": {"line": 60, "column": 0}, "map": {"version":3,"sources":["file:///Users/aliciamartinez/Downloads/Final/app/api/actions/update/route.js"],"sourcesContent":["import { prisma } from \"@/lib/prisma\"; // Make sure prisma client is default-exported\n\nexport async function PATCH(req) {\n  try {\n    const { id, progressIncrement, userId } = await req.json();\n\n    if (!id || !progressIncrement || !userId) {\n      return new Response(JSON.stringify({ error: \"Missing data\" }), { status: 400 });\n    }\n\n    // Fetch existing goal\n    const goal = await prisma.goal.findFirst({\n      where: { id: Number(id), userId: Number(userId) },\n    });\n\n    if (!goal) {\n      return new Response(JSON.stringify({ error: \"Goal not found\" }), { status: 404 });\n    }\n\n    // Update progress (max 10)\n    const newProgress = Math.min((goal.progress || 0) + progressIncrement, 10);\n\n    const updatedGoal = await prisma.goal.update({\n      where: { id: Number(id) },\n      data: { progress: newProgress },\n    });\n\n    return new Response(JSON.stringify(updatedGoal), { status: 200 });\n  } catch (err) {\n    console.error(\"Failed to update goal:\", err);\n    return new Response(JSON.stringify({ error: \"Internal Server Error\" }), { status: 500 });\n  }\n}\n"],"names":[],"mappings":";;;;AAAA,qMAAuC,8CAA8C;;AAE9E,eAAe,MAAM,GAAG;IAC7B,IAAI;QACF,MAAM,EAAE,EAAE,EAAE,iBAAiB,EAAE,MAAM,EAAE,GAAG,MAAM,IAAI,IAAI;QAExD,IAAI,CAAC,MAAM,CAAC,qBAAqB,CAAC,QAAQ;YACxC,OAAO,IAAI,SAAS,KAAK,SAAS,CAAC;gBAAE,OAAO;YAAe,IAAI;gBAAE,QAAQ;YAAI;QAC/E;QAEA,sBAAsB;QACtB,MAAM,OAAO,MAAM,0HAAM,CAAC,IAAI,CAAC,SAAS,CAAC;YACvC,OAAO;gBAAE,IAAI,OAAO;gBAAK,QAAQ,OAAO;YAAQ;QAClD;QAEA,IAAI,CAAC,MAAM;YACT,OAAO,IAAI,SAAS,KAAK,SAAS,CAAC;gBAAE,OAAO;YAAiB,IAAI;gBAAE,QAAQ;YAAI;QACjF;QAEA,2BAA2B;QAC3B,MAAM,cAAc,KAAK,GAAG,CAAC,CAAC,KAAK,QAAQ,IAAI,CAAC,IAAI,mBAAmB;QAEvE,MAAM,cAAc,MAAM,0HAAM,CAAC,IAAI,CAAC,MAAM,CAAC;YAC3C,OAAO;gBAAE,IAAI,OAAO;YAAI;YACxB,MAAM;gBAAE,UAAU;YAAY;QAChC;QAEA,OAAO,IAAI,SAAS,KAAK,SAAS,CAAC,cAAc;YAAE,QAAQ;QAAI;IACjE,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,0BAA0B;QACxC,OAAO,IAAI,SAAS,KAAK,SAAS,CAAC;YAAE,OAAO;QAAwB,IAAI;YAAE,QAAQ;QAAI;IACxF;AACF"}}]
}