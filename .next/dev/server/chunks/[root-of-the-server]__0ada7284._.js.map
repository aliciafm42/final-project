{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/aliciamartinez/Downloads/Final/lib/prisma.jsx"],"sourcesContent":["import { PrismaClient } from \"@prisma/client\";\n\nconst globalForPrisma = globalThis;\n\nconst prisma = globalForPrisma.prisma || new PrismaClient();\n\nif (process.env.NODE_ENV !== \"production\") globalForPrisma.prisma = prisma;\n\nexport default prisma;\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,kBAAkB;AAExB,MAAM,SAAS,gBAAgB,MAAM,IAAI,IAAI,6IAAY;AAEzD,wCAA2C,gBAAgB,MAAM,GAAG;uCAErD"}},
    {"offset": {"line": 60, "column": 0}, "map": {"version":3,"sources":["file:///Users/aliciamartinez/Downloads/Final/app/api/actions/route.js"],"sourcesContent":["import prisma from \"@/lib/prisma\";\n\n// GET all goals for user\nexport async function GET(req) {\n  try {\n    const { searchParams } = new URL(req.url);\n    const userId = Number(searchParams.get(\"userId\"));\n\n    if (!userId || isNaN(userId)) {\n      return new Response(JSON.stringify({ error: \"Invalid or missing userId\" }), { status: 400 });\n    }\n\n    const goals = await prisma.goal.findMany({\n      where: { userId },\n      orderBy: { createdAt: \"desc\" },\n    });\n\n    return new Response(JSON.stringify({ goals }), { status: 200 });\n  } catch (err) {\n    console.error(\"GET /api/actions error:\", err);\n    return new Response(JSON.stringify({ error: \"Internal Server Error\" }), { status: 500 });\n  }\n}\n\n// POST +1 progress safely\nexport async function POST(req) {\n  try {\n    const { goalId, userId, increment = 1 } = await req.json();\n\n    const id = Number(goalId);\n    const uid = Number(userId);\n    const inc = Number(increment);\n\n    if (!id || isNaN(id) || !uid || isNaN(uid) || isNaN(inc)) {\n      return new Response(JSON.stringify({ error: \"Invalid input\" }), { status: 400 });\n    }\n\n    // Make sure the goal exists for this user\n    const goal = await prisma.goal.findFirst({ where: { id, userId: uid } });\n    if (!goal) {\n      return new Response(JSON.stringify({ error: \"Goal not found for this user\" }), { status: 404 });\n    }\n\n    // Increment progress safely, max 10\n    const newProgress = Math.min((goal.progress || 0) + inc, 10);\n\n    const updatedGoal = await prisma.goal.update({\n      where: { id },\n      data: { progress: newProgress },\n    });\n\n    return new Response(JSON.stringify({ goal: updatedGoal }), { status: 200 });\n  } catch (err) {\n    console.error(\"POST /api/actions error:\", err);\n    return new Response(JSON.stringify({ error: \"Internal Server Error\" }), { status: 500 });\n  }\n}\n"],"names":[],"mappings":";;;;;;AAAA;;AAGO,eAAe,IAAI,GAAG;IAC3B,IAAI;QACF,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,IAAI,IAAI,GAAG;QACxC,MAAM,SAAS,OAAO,aAAa,GAAG,CAAC;QAEvC,IAAI,CAAC,UAAU,MAAM,SAAS;YAC5B,OAAO,IAAI,SAAS,KAAK,SAAS,CAAC;gBAAE,OAAO;YAA4B,IAAI;gBAAE,QAAQ;YAAI;QAC5F;QAEA,MAAM,QAAQ,MAAM,2HAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;YACvC,OAAO;gBAAE;YAAO;YAChB,SAAS;gBAAE,WAAW;YAAO;QAC/B;QAEA,OAAO,IAAI,SAAS,KAAK,SAAS,CAAC;YAAE;QAAM,IAAI;YAAE,QAAQ;QAAI;IAC/D,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,2BAA2B;QACzC,OAAO,IAAI,SAAS,KAAK,SAAS,CAAC;YAAE,OAAO;QAAwB,IAAI;YAAE,QAAQ;QAAI;IACxF;AACF;AAGO,eAAe,KAAK,GAAG;IAC5B,IAAI;QACF,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,YAAY,CAAC,EAAE,GAAG,MAAM,IAAI,IAAI;QAExD,MAAM,KAAK,OAAO;QAClB,MAAM,MAAM,OAAO;QACnB,MAAM,MAAM,OAAO;QAEnB,IAAI,CAAC,MAAM,MAAM,OAAO,CAAC,OAAO,MAAM,QAAQ,MAAM,MAAM;YACxD,OAAO,IAAI,SAAS,KAAK,SAAS,CAAC;gBAAE,OAAO;YAAgB,IAAI;gBAAE,QAAQ;YAAI;QAChF;QAEA,0CAA0C;QAC1C,MAAM,OAAO,MAAM,2HAAM,CAAC,IAAI,CAAC,SAAS,CAAC;YAAE,OAAO;gBAAE;gBAAI,QAAQ;YAAI;QAAE;QACtE,IAAI,CAAC,MAAM;YACT,OAAO,IAAI,SAAS,KAAK,SAAS,CAAC;gBAAE,OAAO;YAA+B,IAAI;gBAAE,QAAQ;YAAI;QAC/F;QAEA,oCAAoC;QACpC,MAAM,cAAc,KAAK,GAAG,CAAC,CAAC,KAAK,QAAQ,IAAI,CAAC,IAAI,KAAK;QAEzD,MAAM,cAAc,MAAM,2HAAM,CAAC,IAAI,CAAC,MAAM,CAAC;YAC3C,OAAO;gBAAE;YAAG;YACZ,MAAM;gBAAE,UAAU;YAAY;QAChC;QAEA,OAAO,IAAI,SAAS,KAAK,SAAS,CAAC;YAAE,MAAM;QAAY,IAAI;YAAE,QAAQ;QAAI;IAC3E,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,4BAA4B;QAC1C,OAAO,IAAI,SAAS,KAAK,SAAS,CAAC;YAAE,OAAO;QAAwB,IAAI;YAAE,QAAQ;QAAI;IACxF;AACF"}}]
}