{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/aliciamartinez/Downloads/Final/app/goals/page.jsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { useAuth } from \"@/context/AuthContext\";\n\nexport default function GoalsPage() {\n  const { user } = useAuth();\n  const [customGoal, setCustomGoal] = useState(\"\");\n  const [goals, setGoals] = useState([]);\n\n  // Predefined sustainable action cards\n  const sustainableActions = [\n    \"Bike to work/school 3x/week\",\n    \"Reduce meat consumption\",\n    \"Use reusable bags\",\n    \"Plant a tree\",\n    \"Compost kitchen waste\",\n    \"Avoid single-use plastics\",\n    \"Use public transport\",\n    \"Buy local products\",\n    \"Save energy at home\",\n  ];\n\n  // Fetch user's goals from Neon database\n  const fetchGoals = async () => {\n    if (!user) return;\n    const res = await fetch(\"/api/goals/list?userId=\" + user.id);\n    const data = await res.json();\n    setGoals(data.goals || []);\n  };\n\n  // Add goal (custom or from card) to database\n  const handleAddGoal = async (text) => {\n    if (!text) return;\n    const res = await fetch(\"/api/goals/add\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ text, userId: user.id }),\n    });\n    const data = await res.json();\n    if (res.ok) {\n      setGoals([...goals, data.goal]);\n      setCustomGoal(\"\");\n    }\n  };\n\n  useEffect(() => { fetchGoals(); }, [user]);\n\n  if (!user) return <p className=\"text-center mt-20 text-red-600\">Please login to view goals.</p>;\n\n  return (\n    <div className=\"page-contain max-w-3xl mx-auto p-6\">\n      <h2 className=\"text-3xl font-bold text-green-700 mb-6 text-center\">Set Your Sustainable Goals</h2>\n\n      {/* Custom Goal Input */}\n      <div className=\"flex gap-2 mb-6 justify-center\">\n        <input\n          type=\"text\"\n          value={customGoal}\n          onChange={(e) => setCustomGoal(e.target.value)}\n          placeholder=\"Add your own goal...\"\n          className=\"flex-1 p-3 border rounded shadow focus:outline-none focus:ring-2 focus:ring-green-400\"\n        />\n        <button\n          onClick={() => handleAddGoal(customGoal)}\n          className=\"bg-green-700 text-white font-bold px-6 py-3 rounded hover:bg-green-800 transition\"\n        >\n          Add\n        </button>\n      </div>\n\n      {/* Predefined Sustainable Action Cards */}\n      <h3 className=\"text-xl font-semibold mb-4\">Pick from Suggested Actions:</h3>\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 mb-8\">\n        {sustainableActions.map((action) => (\n          <div\n            key={action}\n            onClick={() => handleAddGoal(action)}\n            className=\"cursor-pointer p-4 border rounded-lg shadow hover:shadow-lg transition hover:bg-green-50\"\n          >\n            <p className=\"text-green-700 font-medium\">{action}</p>\n          </div>\n        ))}\n      </div>\n\n      {/* Current Goals List */}\n      <h3 className=\"text-xl font-semibold mb-4\">Your Goals:</h3>\n      {goals.length === 0 ? (\n        <p className=\"text-gray-600\">No goals added yet.</p>\n      ) : (\n        <ul className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4\">\n          {goals.map((g) => (\n            <li\n              key={g.id}\n              className=\"p-4 border rounded-lg shadow bg-white text-green-700 font-medium text-center\"\n            >\n              {g.text}\n            </li>\n          ))}\n        </ul>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAKe,SAAS;;IACtB,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,qIAAO;IACxB,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC;IAC7C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC,EAAE;IAErC,sCAAsC;IACtC,MAAM,qBAAqB;QACzB;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IAED,wCAAwC;IACxC,MAAM,aAAa;QACjB,IAAI,CAAC,MAAM;QACX,MAAM,MAAM,MAAM,MAAM,4BAA4B,KAAK,EAAE;QAC3D,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,SAAS,KAAK,KAAK,IAAI,EAAE;IAC3B;IAEA,6CAA6C;IAC7C,MAAM,gBAAgB,OAAO;QAC3B,IAAI,CAAC,MAAM;QACX,MAAM,MAAM,MAAM,MAAM,kBAAkB;YACxC,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;gBAAE;gBAAM,QAAQ,KAAK,EAAE;YAAC;QAC/C;QACA,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,IAAI,IAAI,EAAE,EAAE;YACV,SAAS;mBAAI;gBAAO,KAAK,IAAI;aAAC;YAC9B,cAAc;QAChB;IACF;IAEA,IAAA,0KAAS;+BAAC;YAAQ;QAAc;8BAAG;QAAC;KAAK;IAEzC,IAAI,CAAC,MAAM,qBAAO,6LAAC;QAAE,WAAU;kBAAiC;;;;;;IAEhE,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAG,WAAU;0BAAqD;;;;;;0BAGnE,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBACC,MAAK;wBACL,OAAO;wBACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;wBAC7C,aAAY;wBACZ,WAAU;;;;;;kCAEZ,6LAAC;wBACC,SAAS,IAAM,cAAc;wBAC7B,WAAU;kCACX;;;;;;;;;;;;0BAMH,6LAAC;gBAAG,WAAU;0BAA6B;;;;;;0BAC3C,6LAAC;gBAAI,WAAU;0BACZ,mBAAmB,GAAG,CAAC,CAAC,uBACvB,6LAAC;wBAEC,SAAS,IAAM,cAAc;wBAC7B,WAAU;kCAEV,cAAA,6LAAC;4BAAE,WAAU;sCAA8B;;;;;;uBAJtC;;;;;;;;;;0BAUX,6LAAC;gBAAG,WAAU;0BAA6B;;;;;;YAC1C,MAAM,MAAM,KAAK,kBAChB,6LAAC;gBAAE,WAAU;0BAAgB;;;;;qCAE7B,6LAAC;gBAAG,WAAU;0BACX,MAAM,GAAG,CAAC,CAAC,kBACV,6LAAC;wBAEC,WAAU;kCAET,EAAE,IAAI;uBAHF,EAAE,EAAE;;;;;;;;;;;;;;;;AAUvB;GAlGwB;;QACL,qIAAO;;;KADF"}}]
}